{{ define "rows" }}
    {{ range .Contacts }}
    <tr>
        <td>{{ .First }}</td>
        <td>{{ .Last }}</td>
        <td><a href="tel:{{ .Phone }}">{{ .Phone }}</a></td>
        <td><a href="mailto:{{ .Email }}">{{ .Email }}</a></td>
        <td>
            <a href="/contacts/{{ .Id }}">View</a>
            <a href="/contacts/{{ .Id }}/edit">Edit</a>
        </td>
    </tr>
    {{ end }}
    <tr>
        {{ if .Search }}
        <td colspan="5" style="text-align: center;">
            <span class="message">Showing results for search term: "{{ .Term }}", {{ .ContactsCount }} results found.</span>
            <button hx-get="/contacts"
                hx-target="body"
                hx-push-url="true">
                Clear
            </button>
        </td>
        {{ else }}
        {{ if .HasNextPage }}
        <td colspan="5" style="text-align: center;">
            <button hx-target="closest tr"
                hx-swap="outerHTML"
                hx-select="tbody > tr"
                hx-get="/contacts?page={{ .NextPage }}">
                Load more...
        </button>
        </td>
        {{ end }}
        {{ end }}
    </tr>
{{ end }}
